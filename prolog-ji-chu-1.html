<!DOCTYPE html>
<html>
<head>
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Page Meta -->
    <title>Prolog 基础 <1></title>
    <meta name="description" content="A beautiful narrative written with the world's most elegant publishing platform. The story begins here." />

    <!-- Mobile Meta -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Brand icon -->
    <link rel="shortcut icon" href="/blogs/assets/images/favicon.ico" >

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/blogs/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/blogs/assets/css/syntax.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!-- Ghost outputs important style and meta data with this tag -->
        <link rel="canonical" href="/blogs//prolog-ji-chu-1" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/blogs/page2/" />

    <meta property="og:site_name" content="Brightness" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Prolog 基础 <1>" />
    <meta property="og:description" content="A beautiful narrative written with the world's most elegant publishing platform. The story begins here." />
    <meta property="og:url" content="/blogs//prolog-ji-chu-1" />
    <meta property="og:image" content="/blogs/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Prolog 基础 <1>" />
    <meta name="twitter:description" content="A beautiful narrative written with the world's most elegant publishing platform. The story begins here." />
    <meta name="twitter:url" content="/blogs//prolog-ji-chu-1" />
    <meta name="twitter:image:src" content="/blogs/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Brightness",
    "name": "Prolog 基础 <1>",
    "url": "/blogs//prolog-ji-chu-1",
    "image": "/blogs/assets/images/cover1.jpg",
    "description": "A beautiful narrative written with the world's most elegant publishing platform. The story begins here."
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Brightness" href="/blogs/feed.xml" />


</head>
<body class="home-template nav-closed">

    <!-- The blog navigation links -->
    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/blogs/">Home</a></li>
        <li class="nav-about " role="presentation"><a href="/blogs/about">About</a></li>
        <li class="nav-fables " role="presentation"><a href="/blogs/tag/fables">Fables</a></li>
        <li class="nav-speeches " role="presentation"><a href="/blogs/tag/speeches">Speeches</a></li>
        <li class="nav-fiction " role="presentation"><a href="/blogs/tag/fiction">Fiction</a></li>
        <li class="nav-author " role="presentation"><a href="/blogs/author/casper">Casper</a></li>
        <li class="nav-author " role="presentation"><a href="/blogs/author/edgar">Edgar</a></li>
        <li class="nav-author " role="presentation"><a href="/blogs/author/abraham">Abraham</a></li>
        <li class="nav-author " role="presentation"><a href="/blogs/author/martin">Martin</a></li>
        <li class="nav-author " role="presentation"><a href="/blogs/author/lewis">Lewis</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="/blogs/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
        
    </nav>
</header>

<main class="content" role="main">

    <article class="">

        <header class="post-header">
            <h1 class="post-title">Prolog 基础 <1></h1>
            <section class="post-meta">
            <!-- <a href='/blogs/'></a> -->

            
                
            
                
            
                
            
                
            
                
            
            <time class="post-date" datetime="2015-04-05">05 Apr 2015</time>
                <!-- [[tags prefix=" on "]] -->
                
            </section>
        </header>

        <section class="post-content">

            <p>##为什么学习 Prolog?</p>

<p><a href="http://zh.wikipedia.org/zh/Prolog">Prolog</a> 是种逻辑式的编程语言. 我第一次见到这个名字的时候大约实在我学习 SICP 的过程中, 实现了一个简单的逻辑式语言的解释器. 之后我又在 CTMCP 一书中的 Relational Programming 和 Logical Programming 中多次见到 Prolog 的身影, 加上我本身对于各种编程语言非常地感兴趣, 所以我选择学习这门语言, 在这里记录一下我的学习的进度和经历, 也希望能为别人学习 Prolog 提供一下微不足道的帮助吧.</p>

<p>##书籍的选择</p>

<p>在选择学习一门新的编程语言之后, 第一件事情是上网查询一些资料因为 Prolog 的使用者极少, 所以资料也非常的难以查找, 我一开始想要使用的是 Prolog by Example, 但是因为很难找到所以就选择了 Learn Prolog Now.</p>

<p>##开发环境的搭建</p>

<p>怎样才能快速的搭建 Prolog 的开发环境呢, 如果你是用的 Mac. 在命令行中输入</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew cask install swi-prolog
</code></pre></div></div>

<p>如果没有装 brew 或者 cask, 可以在 google 上轻松找到这两个命令行工具的安装方法. 在这里我也就不在多说了.</p>

<p>我是用的编辑器是 Emacs, 使用的插件可以点<a href="http://bruda.ca/emacs/prolog_mode_for_emacs">这里</a>. 安装好之后, 我们就可以开始 Prolog 之旅了.</p>

<p>##Prolog 基础</p>

<p>Prolog 有三种非常基本结构:</p>

<ul>
  <li>事实(facts)</li>
  <li>规则(rules)</li>
  <li>查询(queries)</li>
</ul>

<p>事实和规则被叫做 knowledge base 或者叫 database, Prolog 的编程其实就是写 knowledge base, 这些 knowledge base 就定义和保存了我们感兴趣的全部知识. 我们如何使用一个 Prolog 程序呢? 就是发起查询, 就是通过向 knowledge base 中存储的数据提出问题, 然后获取回答. 这与我们平时的使用 Objective-C Java 等命令式编程有着极大的不同.</p>

<p>###Facts</p>

<p>首先我们先写下几个 Prolog 中的 facts, 需要打开一个文件, 后缀是 <code class="highlighter-rouge">.pl</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>programmer(linux).
programmer(bill).
designer(jonathan).
</code></pre></div></div>

<p>这个文件 <code class="highlighter-rouge">facts.pl</code> 就是一些 facts 的集合, 注意, 在这里的每一个 fact 都是以 <code class="highlighter-rouge">.</code> 结尾的. 我们怎么使用呢, 在命令行中切换到 <code class="highlighter-rouge">facts.pl</code> 的目录下, 然后输入 <code class="highlighter-rouge">swipl</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Welcome to SWI-Prolog (Multi-threaded, 64 bits, Version 6.6.6)
Copyright (c) 1990-2013 University of Amsterdam, VU Amsterdam
SWI-Prolog comes with ABSOLUTELY NO WARRANTY. This is free software,
and you are welcome to redistribute it under certain conditions.
Please visit http://www.swi-prolog.org for details.

For help, use ?- help(Topic). or ?- apropos(Word).

?-
</code></pre></div></div>

<p>然后会出现这些信息, 使用 <code class="highlighter-rouge">consult('fact.pl').</code> 加载你的 Prolog 代码. 输入: programmer(linux).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?- programmer(linux).
true
</code></pre></div></div>

<p>Prolog 会返回 <code class="highlighter-rouge">true</code>. 如果你输入: programmer(jonathan).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?- programmer(jonathan).
false
</code></pre></div></div>

<p>它就会返回 <code class="highlighter-rouge">false</code>. 很简单吧.</p>

<p>当然 facts 也可以是向下面这样有多个参数</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loves(i,u).
loves(he,u).
</code></pre></div></div>

<p>如果你输入一个不存在过程, 它就会告诉你 <code class="highlighter-rouge">Undefined procedure</code>.</p>

<p>###Rules</p>

<p>接下来我们介绍一下什么是规则 rules, 规则我们理解起来非常的容易, 在 Prolog 中如何实现一些规则呢, 我们使用 <code class="highlighter-rouge">:-</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sunny(today).
happy(tom).
football(tom) :- sunny(today),happy(tom).
</code></pre></div></div>

<p>接下来我们加载我们的代码, 询问 <code class="highlighter-rouge">football(tom)</code>. Prolog 会返回 <code class="highlighter-rouge">true</code>, 规则是什么呢, 规则的前半部分也就是 <code class="highlighter-rouge">football(tom)</code> 是规则的头部(head), 规则的后半部分 <code class="highlighter-rouge">sunny(today),happy(tom)</code> 是规则的目标(goals). 当规则的 goals 成立时, head 就会成立也就是:</p>

<p><strong>如果今天的天气很好, tom 也很开心, 那么他就会去踢足球.</strong></p>

<p>Prolog 使用 <code class="highlighter-rouge">,</code> 来表示 <strong>和</strong>, 使用 <code class="highlighter-rouge">;</code> 来表示 <strong>或</strong>. 所以在这里, 后面的两个条件都需要成立. 这样 Prolog 就能推出 <code class="highlighter-rouge">football(tom)</code>.</p>

<p>我们可以在 Rules 中添加变量增强我们的表达能力, 比如这样:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>father(tom,john).
father(john,ive).
grandfather(X,Z):-father(X,Y),father(Y,Z).
</code></pre></div></div>

<p>我相信这对于我们是非常容易理解的, 在这里也不过多说明了.</p>

<p>###Queries</p>

<p>什么是 queries, 其实我们在上边输入的 <code class="highlighter-rouge">football(tom).</code>, <code class="highlighter-rouge">programmer(jonathan).</code> 都是一种查询. 只是查询是否成立, 接下来我们就需要在查询中引入变量(variable)了.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>programmer(linux).
programmer(bill).
designer(jonathan).
</code></pre></div></div>

<p>还是这一段代码, 我们可以通过询问 Prolog:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?- programmer(X).
</code></pre></div></div>

<p>然后就会出现</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>X = linux
</code></pre></div></div>

<p>Prolog 每次只会出现最先符合条件的结果, 若果你想看其他的结果, 可以输入 <code class="highlighter-rouge">;</code> 也就是或, 来查看是否有其他的输入, 我们输入 <code class="highlighter-rouge">;</code> 之后, 会出现:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>X = bill
</code></pre></div></div>

<p>再次输入之后, 就会返回 <code class="highlighter-rouge">false</code> 了, 因为没有符合条件的结果了.</p>

<p>##Prolog 语法</p>

<p>介绍了 Prolog 中的基本元素之后, 我们想要知道, Prolog 中的基本元素到底是由什么来构建的呢, 现在来看一下 Prolog 中的基本语法.</p>

<p>Prolog 中的基本元素都是 term(<em>不知道该怎么翻译</em>)构建而来的. 而在 Prolog 中有 4 种不同的 term</p>

<ul>
  <li>atom</li>
  <li>number</li>
  <li>variable</li>
  <li>complex term</li>
</ul>

<p>###Atom</p>

<p>符合下列条件之一的就是 Prolog 中的 atom:</p>

<ol>
  <li>由大写字母, 小写字符, 数字和下划线组成的并且<strong>以小写字母开头</strong>的字符串, 例如: <code class="highlighter-rouge">john</code> <code class="highlighter-rouge">tom</code> <code class="highlighter-rouge">big_big</code> <code class="highlighter-rouge">a_bc</code>.</li>
  <li>任意的包装在单引号 <code class="highlighter-rouge">'</code> 中的字符床. 例如: <code class="highlighter-rouge">'dsada'</code> <code class="highlighter-rouge">*((&amp;@!MBAS))</code> <code class="highlighter-rouge">Fjdh_da</code>.</li>
  <li>特殊的字符串, 比如 <code class="highlighter-rouge">:-</code> <code class="highlighter-rouge">;</code> <code class="highlighter-rouge">@=</code>.</li>
</ol>

<p>###Numbers</p>

<p>数字在 Prolog 中并不是非常的重要, 不过 Prolog 支持大多数的数字的表示和特殊的值.</p>

<p>###Variables</p>

<p>变量是由由大写字母, 小写字符, 数字和下划线组成的并且<strong>以大写字母或者下划线开头</strong>的字符串, 比如 <code class="highlighter-rouge">X</code> <code class="highlighter-rouge">Variable</code> <code class="highlighter-rouge">_dsal</code>.</p>

<p>变量 <code class="highlighter-rouge">_</code> 在 Prolog 中非常的特殊被称为匿名变量.</p>

<p>###Complex Terms</p>

<p>Complex terms 实际上就是一种结构, 而我们之前见到的</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>programmer(linux).
programmer(bill).
designer(jonathan).
</code></pre></div></div>

<p>这些都是 complex terms, 而且我们也可以定义出更加复杂的结构</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>father(father(fahter(john))).
</code></pre></div></div>

<p>complex term 拥有的参数的数量叫做 arity, arity 在 complex term 中及其的重要, <code class="highlighter-rouge">progammer(linux)</code> 中的 <code class="highlighter-rouge">arity = 1</code>, <code class="highlighter-rouge">love(i,u)</code> 中的 <code class="highlighter-rouge">arity = 2</code>.</p>

<p>在 Prolog 中可以定义两个名字相同, 而 arity 不同的 predicate.</p>

<p>当我们讨论到 predicate 时, 我们经常使用 <code class="highlighter-rouge">/</code> 后面跟着 <code class="highlighter-rouge">arity</code> 的数量来表示 predicate.</p>

<p>例如:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>happy/1
love/2
</code></pre></div></div>

<p>##总结</p>

<p>到目前为止, 我们已经对 Prolog 有着一个大体的了解, 也能感觉到它与其他编程语言的与众不同, 而这种不同就是驱使我学习它的最大因素.</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->
            
                
            
                
            
                
            
                
            
                
            

            <!-- Add Disqus Comments -->
            

        </footer>

    </article>

</main>
<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story no-cover" href="/blogs/prolog-pi-pei-2">
            <section class="post">
                <h2>Prolog 匹配 <2></h2>
                <p>这篇 post 有两个主要的目的: 1. 讨论 Prolog 中的匹配, 解释匹配(match)与相等的不同. 2. 使用 Prolog 搜索的机制解决一些问题. ##Matching Prolog 中有三种不同的...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <!-- The tiny footer at the very bottom -->
        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/blogs/">Brightness</a> &copy; 2018</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/jekyller/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- jQuery needs to come before `` so that jQuery can be used in code injection -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <!-- Ghost outputs important scripts and data with this tag -->
    <!--  -->
    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-69281367-1', 'auto');
	    ga('send', 'pageview');

     </script>
    <!-- Fitvids makes video embeds responsive and awesome -->
    <script type="text/javascript" src="/blogs/assets/js/jquery.fitvids.js"></script>
    <!-- The main JavaScript file for Casper -->
    <script type="text/javascript" src="/blogs/assets/js/index.js"></script>

</body>
</html>
